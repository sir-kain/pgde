{% extends '@PgdeEmploi/Page/demande.html.twig' %}
{% block body %}
    {#<h1>Soumission demande</h1>#}

    {% for login in app.session.flashBag.get('login') %}
        {% for class in app.session.flashBag.get('class') %}
            {% for message in app.session.flashBag.get('message') %}
                {% for avatar in app.session.flashBag.get('urlavatar') %}
                    {% for username in app.session.flashBag.get('username') %}
                        <div class="{{ class }}" data-urlpath="{{ path('userdata_new') }}"
                             data-message="{{ message }}" data-img="{{ avatar }}" data-username="{{ username }}"
                             id="gritter-login"></div>
                    {% endfor %}
                {% endfor %}
            {% endfor %}
        {% endfor %}
    {% endfor %}
    <div class="container">
        <div class="stepwizard">
            <div class="stepwizard-row setup-panel">
                <div class="stepwizard-step col-xs-3">
                    <a href="#step-1" type="button" class="btn btn-success btn-circle">1</a>
                    <p>
                        <small>Etat Civil</small>
                    </p>
                </div>
                <div class="stepwizard-step col-xs-3">
                    <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
                    <p>
                        <small>Coordonnées</small>
                    </p>
                </div>
                <div class="stepwizard-step col-xs-3">
                    <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
                    <p>
                        <small>Formations</small>
                    </p>
                </div>
                <div class="stepwizard-step col-xs-3">
                    <a href="#step-4" type="button" class="btn btn-default btn-circle" disabled="disabled">4</a>
                    <p>
                        <small>Emploi</small>
                    </p>
                </div>
            </div>
        </div>
        {{ form_start(form) }}
        {% for error in form.vars.errors.form.getErrors(true) %}
            <div class="alert alert-danger">
                <i class="fas fa-exclamation-circle"></i> {{ error.message }}
            </div>
        {% endfor %}
        <div class="panel panel-default setup-content" id="step-1">
            {#<div class="panel-heading text-center">#}
            {#<h3 class="panel-title">Etat Civil</h3>#}
            {#</div>#}
            <div class="panel-body panel-step">
                <div class="row">
                    <div class="col-md-3">
                        {{ form_row(form.utilisateur.numberid) }}
                        {{ form_label(form.utilisateur.firstname) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-user"></i></span>
                            {{ form_widget(form.utilisateur.firstname) }}
                        </div>
                        {{ form_label(form.utilisateur.lastname) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-user"></i></span>
                            {{ form_widget(form.utilisateur.lastname) }}
                        </div>
                        {{ form_row(form.genre) }}
                    </div>
                    <div class="col-md-3">
                        {#{{ form_row(form.datenaiss) }}#}
                        <div class="input-group form-group">
                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        {{ form_widget(form.datenaiss)}}
                        </div>
                        {{ form_row(form.situationmatrimoniale) }}
                        {{ form_row(form.nombreenfant) }}
                    </div>
                    <div class="col-md-3">
                        {{ form_row(form.regionNaiss) }}
                        {{ form_row(form.departementnaiss) }}
                        {{ form_label(form.lieunaiss) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-globe"></i></span>
                            {{ form_widget(form.lieunaiss) }}
                        </div>
                    </div>
                    <div class="col-md-3">
                        {#{{ form_row(form.boolhandicap) }}#}
                        {#{{ form_row(form.handicapcategorie) }}#}
                        {#{{ form_row(form.handicap) }}#}
                    </div>
                </div>
                <div class="row">
                    <button class="btn btn-success nextBtn pull-right" type="button">Suivant</button>
                </div>
            </div>
        </div>

        <div class="panel panel-primary setup-content" id="step-2">
            {#<div class="panel-heading text-center">#}
            {#<h3 class="panel-title">Coordonnées</h3>#}
            {#</div>#}
            <div class="panel-body panel-step">
                <div class="row">
                    <div class="col-sm-6">
                        {{ form_row(form.regionResidence) }}
                        {{ form_row(form.departementresidence) }}
                        {{ form_label(form.lieuresidence) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-globe"></i></span>
                            {{ form_widget(form.lieuresidence) }}
                        </div>
                    </div>
                    <div class="col-sm-6">
                        {{ form_label(form.utilisateur.email) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-at"></i></span>
                            {{ form_widget(form.utilisateur.email) }}
                        </div>
                        {{ form_label(form.telephone1) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-mobile"></i></span>
                            {{ form_widget(form.telephone1) }}
                            {#<input type="text" id="datepicker" class="form-control">#}
                        </div>
                        {{ form_label(form.telephone2) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-mobile"></i></span>
                            {{ form_widget(form.telephone2) }}
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary nextBtn pull-right" type="button">Suivant</button>
            </div>
        </div>

        <div class="panel panel-primary setup-content" id="step-3">
            {#<div class="panel-heading text-center">#}
            {#<h3 class="panel-title">Formation</h3>#}
            {#</div>#}
            <div class="panel-body panel-step">
                <div class="row">
                    <div class="col-sm-6">
                        {{ form_row(form.specialite) }}
                        {{ form_label(form.etablissementdiplome) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-home"></i></span>
                            {{ form_widget(form.etablissementdiplome) }}
                        </div>
                        {{ form_row(form.autresdiplomes) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_row(form.academic) }}
                        {{ form_label(form.diplome) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-graduation-cap"></i></span>
                            {{ form_widget(form.diplome) }}
                        </div>
                        {{ form_label(form.anneediplome) }}
                        <div class="input-group form-group">
                            <span class="input-group-addon"><i class="fa fa-tint"></i></span>
                            {{ form_widget(form.anneediplome) }}
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary nextBtn pull-right" type="button">Suivant</button>
            </div>
        </div>

        <div class="panel panel-primary setup-content" id="step-4">
            {#<div class="panel-heading text-center">#}
            {#<h3 class="panel-title">Emplois</h3>#}
            {#</div>#}
            <div class="panel-body panel-step">
                <div class="row">
                    <div class="col-sm-3">
                        {{ form_row(form.secteur1) }}
                        {{ form_row(form.emploi1) }}
                        {{ form_row(form.anneeexperience1) }}
                    </div>
                    <div class="col-sm-3">
                        {{ form_row(form.secteur2) }}
                        {{ form_row(form.emploi2) }}
                        {{ form_row(form.anneeexperience2) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_row(form.motivation) }}
                        {{ form_row(form.experiences) }}
                    </div>
                </div>
                <button class="btn btn-success pull-right" type="submit">Envoyé!</button>
            </div>
        </div>
        {{ form_widget(form._token) }}
        {{ form_end(form, {'render_rest': false}) }}
    </div>
    {#<input class="btn btn-primary" type="submit" value="Create"/>#}
{% endblock %}
